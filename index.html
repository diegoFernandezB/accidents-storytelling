<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <title>Storytelling: Predicci칩n de Accidentes</title>
</head>
<body>
  <h1>游뚽 Predicci칩n de Accidentes de Tr치nsito</h1>
  <p><strong>Autores:</strong> Calf칤n & Fern치ndez</p>

  <div class="section" id="section-objetivo"> <h2>游꿢 Objetivo</h2>
    <p>Analizar las condiciones del entorno urbano y vehicular para predecir la cantidad de accidentes de tr치nsito usando modelos de miner칤a de datos, y comunicar visualmente los hallazgos a partir de datos reales.</p>
  </div>

  <div class="section" id="section-insights">
    <h2>游댌 Insights Principales</h2>
    <div class="insight" id="insight1">
      <strong>1. Densidad de tr치fico y multas: combinaci칩n cr칤tica</strong><br>
      A mayor densidad y mayor cantidad de multas, el riesgo de accidentes predichos aumenta significativamente.
    </div>
    <div class="insight" id="insight2">
      <strong>2. Lluvia + mal pavimento = m치s accidentes</strong><br>
      Las zonas con pavimento deteriorado y lluvia intensa presentan mayores niveles de accidentes predichos.
    </div>
    <div class="insight" id="insight3">
      <strong>3. Variables m치s influyentes</strong><br>
      Seg칰n el 치rbol de regresi칩n, las variables con mayor impacto fueron:<br>
      <em> Densidad del tr치fico o "traffic_density" , Multas de tr치fico o "traffic_fine_amount", Intensidad de la lluvia o "rain_intensity" y la cantidad de veh칤culos o "vehicle_count"</em>.
    </div>
  </div>

  <div class="section" id="section-modelo">
    <h2>游 Modelo Aplicado</h2>
    <p>Se utiliz칩 un 치rbol de regresi칩n (`DecisionTreeRegressor`) con ajuste de hiperpar치metros mediante `GridSearchCV`. Se aplic칩 escalamiento previo de los datos con `StandardScaler`.</p>
    <img src="img/arbol.png" alt="Arbol de Regresi칩n"> 
  </div>

  <div class="section" id="section-visualizaciones">
    <h2>游늵 Visualizaciones</h2>
    <ul>
      <li id="li-nube">
        Nube de palabras con variables m치s importantes
        <img src="img/nube.png" alt="Nube de palabras de variables importantes"> 
      </li>
      <li id="li-grafico">
        Gr치fico de dispersi칩n: Pavimento vs Accidentes
        <img src="img/grafi.png" alt="Gr치fico de dispersi칩n Pavimento vs Accidentes"> 
      </li>
    </ul>
  </div>

  <div class="section" id="section-aplicaciones">
    <h2>游늷 Aplicaciones reales</h2>
    <p>Este modelo de predicci칩n es una herramienta estrat칠gica para **organismos p칰blicos y municipales**, dise침ada para generar un impacto directo en la seguridad vial. Permite:</p>
    <ul>
      <li id="li-recursos">**Focalizar recursos** en 치reas y momentos de mayor riesgo predicho.
        <img src="img/uno.jpg" alt="Optimizaci칩n de recursos de emergencia">
      </li>
      <li id="li-fiscalizacion">**Mejorar la fiscalizaci칩n** y la presencia preventiva donde m치s se necesita.
        <img src="img/dos.png" alt="Mejora de la infraestructura vial">
      </li>
      <li id="li-reducir">**Reducir significativamente la ocurrencia de accidentes** al identificar y mitigar condiciones cr칤ticas del entorno urbano y vehicular.
        <img src="img/tres.jpeg" alt="Reducci칩n de accidentes">
      </li>
    </ul>
    <p>Su implementaci칩n se traduce en ciudades m치s seguras y una gesti칩n m치s eficiente de la infraestructura vial.</p>
  </div>

  <div class="section" id="section-enlaces">
    <h2>游댕 Enlaces 칰tiles</h2>
    <p>Publicaci칩n en LinkedIn Belen Calf칤n: <a href="#" class="button">Ir</a></p>
    <p>Publicaci칩n en LinkedIn Diego Fern치ndez: <a href="https://www.linkedin.com/posts/diego-antonio-fernandez-bravo-79ba38253_predicci%C3%B3n-de-accidentes-de-tr%C3%A1nsito-activity-7352004860185092096-Jao1?utm_source=share&utm_medium=member_desktop&rcm=ACoAAD6flWcBoWxlKCL5TuQhh0MBkRTMvSctA6M" class="button">Ir</a></p>
    <p>Repositorio del c칩digo: <a href="https://github.com/diegoFernandezB/accidents-storytelling.git" class="button">Ir</a></p>
  </div>
<footer>
  <p>&copy; 2025 Todos los derechos reservados. Calf칤n & Fern치ndez</p>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const insights = document.querySelectorAll('.insight');
        let activeInsight = null; 

        insights.forEach(insight => {
            insight.addEventListener('click', () => {
                if (activeInsight && activeInsight !== insight) {
                    activeInsight.classList.remove('active');
                }
                insight.classList.toggle('active');
                if (insight.classList.contains('active')) {
                    activeInsight = insight;
                } else {
                    activeInsight = null;
                }
            });
        });

        document.addEventListener('click', (event) => {
            if (activeInsight && !event.target.closest('.insight')) {
                activeInsight.classList.remove('active');
                activeInsight = null;
            }
        });

        // --- JavaScript para los 칤tems de lista (<li>) ---
        const listItems = document.querySelectorAll('.section ul li');
        let activeListItem = null; 

        listItems.forEach(item => {
            item.addEventListener('click', (event) => {
                // Previene que el clic en el LI tambi칠n active la secci칩n padre
                event.stopPropagation(); 

                if (activeListItem && activeListItem !== item) {
                    activeListItem.classList.remove('active-list-item');
                }

                item.classList.toggle('active-list-item');

                if (item.classList.contains('active-list-item')) {
                    activeListItem = item;
                } else {
                    activeListItem = null;
                }
            });
        });

        // Opcional: Desactivar el li activo al hacer clic fuera de cualquier li
        document.addEventListener('click', (event) => {
            if (activeListItem && !event.target.closest('.section ul li')) {
                activeListItem.classList.remove('active-list-item');
                activeListItem = null;
            }
        });

        // --- Nuevo JavaScript para las SECCIONES (div.section) ---
        const sections = document.querySelectorAll('.section');
        let activeSection = null;

        sections.forEach(section => {
            // Aseg칰rate de que el clic en los elementos internos no active la secci칩n padre
            // Esto es crucial para los "insights" y los "li" dentro de las secciones
            section.querySelectorAll('.insight, ul li, p, img, a').forEach(child => {
                child.addEventListener('click', (event) => {
                    event.stopPropagation(); // Detiene la propagaci칩n del evento al padre
                });
            });

            section.addEventListener('click', () => {
                // Si hay una secci칩n activa diferente, desact칤vala
                if (activeSection && activeSection !== section) {
                    activeSection.classList.remove('active-section');
                }

                // Alternar la clase 'active-section' en la secci칩n clickeada
                section.classList.toggle('active-section');

                // Actualizar la secci칩n activa
                if (section.classList.contains('active-section')) {
                    activeSection = section;
                } else {
                    activeSection = null;
                }
            });
        });

        // Opcional: Desactivar la secci칩n activa al hacer clic fuera de cualquier secci칩n
        document.addEventListener('click', (event) => {
            if (activeSection && !event.target.closest('.section')) {
                activeSection.classList.remove('active-section');
                activeSection = null;
            }
        });
    });
</script>

</body>
</html>
