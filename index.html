<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <title>Storytelling: Predicción de Accidentes</title>
</head>
<body>
  <h1>🚦 Predicción de Accidentes de Tránsito</h1>
  <p><strong>Autores:</strong> Calfín & Fernández</p>

  <div class="section" id="section-objetivo"> <h2>🎯 Objetivo</h2>
    <p>Analizar las condiciones del entorno urbano y vehicular para predecir la cantidad de accidentes de tránsito usando modelos de minería de datos, y comunicar visualmente los hallazgos a partir de datos reales.</p>
  </div>

  <div class="section" id="section-insights">
    <h2>🔍 Insights Principales</h2>
    <div class="insight" id="insight1">
      <strong>1. Densidad de tráfico y multas: combinación crítica</strong><br>
      A mayor densidad y mayor cantidad de multas, el riesgo de accidentes predichos aumenta significativamente.
    </div>
    <div class="insight" id="insight2">
      <strong>2. Lluvia + mal pavimento = más accidentes</strong><br>
      Las zonas con pavimento deteriorado y lluvia intensa presentan mayores niveles de accidentes predichos.
    </div>
    <div class="insight" id="insight3">
      <strong>3. Variables más influyentes</strong><br>
      Según el árbol de regresión, las variables con mayor impacto fueron:<br>
      <em> Densidad del tráfico o "traffic_density" , Multas de tráfico o "traffic_fine_amount", Intensidad de la lluvia o "rain_intensity" y la cantidad de vehículos o "vehicle_count"</em>.
    </div>
  </div>

  <div class="section" id="section-modelo">
    <h2>🧠 Modelo Aplicado</h2>
    <p>Se utilizó un árbol de regresión (`DecisionTreeRegressor`) con ajuste de hiperparámetros mediante `GridSearchCV`. Se aplicó escalamiento previo de los datos con `StandardScaler`.</p>
    <img src="img/arbol.png" alt="Arbol de Regresión"> 
  </div>

  <div class="section" id="section-visualizaciones">
    <h2>📊 Visualizaciones</h2>
    <ul>
      <li id="li-nube">
        Nube de palabras con variables más importantes
        <img src="img/nube.png" alt="Nube de palabras de variables importantes"> 
      </li>
      <li id="li-grafico">
        Gráfico de dispersión: Pavimento vs Accidentes
        <img src="img/grafi.png" alt="Gráfico de dispersión Pavimento vs Accidentes"> 
      </li>
    </ul>
  </div>

  <div class="section" id="section-aplicaciones">
    <h2>📌 Aplicaciones reales</h2>
    <p>Este modelo de predicción es una herramienta estratégica para **organismos públicos y municipales**, diseñada para generar un impacto directo en la seguridad vial. Permite:</p>
    <ul>
      <li id="li-recursos">**Focalizar recursos** en áreas y momentos de mayor riesgo predicho.
        <img src="img/uno.jpg" alt="Optimización de recursos de emergencia">
      </li>
      <li id="li-fiscalizacion">**Mejorar la fiscalización** y la presencia preventiva donde más se necesita.
        <img src="img/dos.png" alt="Mejora de la infraestructura vial">
      </li>
      <li id="li-reducir">**Reducir significativamente la ocurrencia de accidentes** al identificar y mitigar condiciones críticas del entorno urbano y vehicular.
        <img src="img/tres.jpeg" alt="Reducción de accidentes">
      </li>
    </ul>
    <p>Su implementación se traduce en ciudades más seguras y una gestión más eficiente de la infraestructura vial.</p>
  </div>

  <div class="section" id="section-enlaces">
    <h2>🔗 Enlaces útiles</h2>
    <p>Publicación en LinkedIn Belen Calfín: <a href="#" class="button">Ir</a></p>
    <p>Publicación en LinkedIn Diego Fernández: <a href="https://www.linkedin.com/posts/diego-antonio-fernandez-bravo-79ba38253_predicci%C3%B3n-de-accidentes-de-tr%C3%A1nsito-activity-7352004860185092096-Jao1?utm_source=share&utm_medium=member_desktop&rcm=ACoAAD6flWcBoWxlKCL5TuQhh0MBkRTMvSctA6M" class="button">Ir</a></p>
    <p>Repositorio del código: <a href="https://github.com/diegoFernandezB/accidents-storytelling.git" class="button">Ir</a></p>
  </div>
<footer>
  <p>&copy; 2025 Todos los derechos reservados. Calfín & Fernández</p>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const insights = document.querySelectorAll('.insight');
        let activeInsight = null; 

        insights.forEach(insight => {
            insight.addEventListener('click', () => {
                if (activeInsight && activeInsight !== insight) {
                    activeInsight.classList.remove('active');
                }
                insight.classList.toggle('active');
                if (insight.classList.contains('active')) {
                    activeInsight = insight;
                } else {
                    activeInsight = null;
                }
            });
        });

        document.addEventListener('click', (event) => {
            if (activeInsight && !event.target.closest('.insight')) {
                activeInsight.classList.remove('active');
                activeInsight = null;
            }
        });

        // --- JavaScript para los ítems de lista (<li>) ---
        const listItems = document.querySelectorAll('.section ul li');
        let activeListItem = null; 

        listItems.forEach(item => {
            item.addEventListener('click', (event) => {
                // Previene que el clic en el LI también active la sección padre
                event.stopPropagation(); 

                if (activeListItem && activeListItem !== item) {
                    activeListItem.classList.remove('active-list-item');
                }

                item.classList.toggle('active-list-item');

                if (item.classList.contains('active-list-item')) {
                    activeListItem = item;
                } else {
                    activeListItem = null;
                }
            });
        });

        // Opcional: Desactivar el li activo al hacer clic fuera de cualquier li
        document.addEventListener('click', (event) => {
            if (activeListItem && !event.target.closest('.section ul li')) {
                activeListItem.classList.remove('active-list-item');
                activeListItem = null;
            }
        });

        // --- Nuevo JavaScript para las SECCIONES (div.section) ---
        const sections = document.querySelectorAll('.section');
        let activeSection = null;

        sections.forEach(section => {
            // Asegúrate de que el clic en los elementos internos no active la sección padre
            // Esto es crucial para los "insights" y los "li" dentro de las secciones
            section.querySelectorAll('.insight, ul li, p, img, a').forEach(child => {
                child.addEventListener('click', (event) => {
                    event.stopPropagation(); // Detiene la propagación del evento al padre
                });
            });

            section.addEventListener('click', () => {
                // Si hay una sección activa diferente, desactívala
                if (activeSection && activeSection !== section) {
                    activeSection.classList.remove('active-section');
                }

                // Alternar la clase 'active-section' en la sección clickeada
                section.classList.toggle('active-section');

                // Actualizar la sección activa
                if (section.classList.contains('active-section')) {
                    activeSection = section;
                } else {
                    activeSection = null;
                }
            });
        });

        // Opcional: Desactivar la sección activa al hacer clic fuera de cualquier sección
        document.addEventListener('click', (event) => {
            if (activeSection && !event.target.closest('.section')) {
                activeSection.classList.remove('active-section');
                activeSection = null;
            }
        });
    });
</script>

</body>
</html>
