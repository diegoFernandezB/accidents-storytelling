<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <title>Storytelling: Predicción de Accidentes</title>
</head>
<body>
  <h1>🚦 Predicción de Accidentes de Tránsito</h1>
  <p><strong>Autores:</strong> Calfín & Fernández</p>

  <div class="section">
    <h2>🎯 Objetivo</h2>
    <p>Analizar las condiciones del entorno urbano y vehicular para predecir la cantidad de accidentes de tránsito usando modelos de minería de datos, y comunicar visualmente los hallazgos a partir de datos reales.</p>
  </div>

  <div class="section">
    <h2>🔍 Insights Principales</h2>
    <div class="insight" id="insight1">
      <strong>1. Densidad de tráfico y multas: combinación crítica</strong><br>
      A mayor densidad y mayor cantidad de multas, el riesgo de accidentes predichos aumenta significativamente.
    </div>
    <div class="insight" id="insight2">
      <strong>2. Lluvia + mal pavimento = más accidentes</strong><br>
      Las zonas con pavimento deteriorado y lluvia intensa presentan mayores niveles de accidentes predichos.
    </div>
    <div class="insight" id="insight3">
      <strong>3. Variables más influyentes</strong><br>
      Según el árbol de regresión, las variables con mayor impacto fueron:<br>
      <em>traffic_density, traffic_fine_amount, rain_intensity, vehicle_count</em>.
    </div>
  </div>

  <div class="section">
    <h2>🧠 Modelo Aplicado</h2>
    <p>Se utilizó un árbol de regresión (`DecisionTreeRegressor`) con ajuste de hiperparámetros mediante `GridSearchCV`. Se aplicó escalamiento previo de los datos con `StandardScaler`.</p>
    <img src="img/arbol.png" alt="Arbol de Regresión"> 
  </div>

  <div class="section">
    <h2>📊 Visualizaciones</h2>
    <ul>
      <li id="li-nube">
        Nube de palabras con variables más importantes
        <img src="img/nube.png" alt="Nube de palabras de variables importantes"> 
      </li>
      <li id="li-grafico">
        Gráfico de dispersión: Pavimento vs Accidentes
        <img src="img/grafi.png" alt="Gráfico de dispersión Pavimento vs Accidentes"> 
      </li>
    </ul>
  </div>

  <div class="section">
    <h2>📌 Aplicaciones reales</h2>
    <p>Este modelo de predicción es una herramienta estratégica para **organismos públicos y municipales**, diseñada para generar un impacto directo en la seguridad vial. Permite:</p>
    <ul>
      <li id="li-recursos">**Focalizar recursos** en áreas y momentos de mayor riesgo predicho.
        <img src="img/uno.jpg" alt="Nube de palabras de variables importantes">
      </li>
      <li id="li-fiscalizacion">**Mejorar la fiscalización** y la presencia preventiva donde más se necesita.
        <img src="img/dos.png" alt="Nube de palabras de variables importantes">
      </li>
      <li id="li-reducir">**Reducir significativamente la ocurrencia de accidentes** al identificar y mitigar condiciones críticas del entorno urbano y vehicular.
        <img src="img/tres.jpeg" alt="Nube de palabras de variables importantes">
      </li>
    </ul>
    <p>Su implementación se traduce en ciudades más seguras y una gestión más eficiente de la infraestructura vial.</p>
  </div>

  <div class="section">
    <h2>🔗 Enlaces útiles</h2>
    <p>Publicación en LinkedIn: <a href="#" class="button">Ir</a></p>
    <p>Repositorio del código: <a href="#" class="button">Ir</a></p>
  </div>
<footer>
  <p>&copy; 2025 Todos los derechos reservados. Calfín & Fernández</p>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const insights = document.querySelectorAll('.insight');
        let activeInsight = null; 

        insights.forEach(insight => {
            insight.addEventListener('click', () => {
                if (activeInsight && activeInsight !== insight) {
                    activeInsight.classList.remove('active');
                }
                insight.classList.toggle('active');
                if (insight.classList.contains('active')) {
                    activeInsight = insight;
                } else {
                    activeInsight = null;
                }
            });
        });

        document.addEventListener('click', (event) => {
            if (activeInsight && !event.target.closest('.insight')) {
                activeInsight.classList.remove('active');
                activeInsight = null;
            }
        });

        // --- Nuevo JavaScript para los ítems de lista (<li>) ---
        const listItems = document.querySelectorAll('.section ul li');
        let activeListItem = null; // Para controlar el li activo

        listItems.forEach(item => {
            item.addEventListener('click', () => {
                // Si hay un li activo diferente, desactívalo
                if (activeListItem && activeListItem !== item) {
                    activeListItem.classList.remove('active-list-item');
                }

                // Alternar la clase 'active-list-item' en el li clickeado
                item.classList.toggle('active-list-item');

                // Actualizar el li activo
                if (item.classList.contains('active-list-item')) {
                    activeListItem = item;
                } else {
                    activeListItem = null;
                }
            });
        });

        // Opcional: Desactivar el li activo al hacer clic fuera de cualquier li
        document.addEventListener('click', (event) => {
            if (activeListItem && !event.target.closest('.section ul li')) {
                activeListItem.classList.remove('active-list-item');
                activeListItem = null;
            }
        });
    });
</script>

</body>
</html>
